<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InterviewFlow AI</title>
    <link rel="stylesheet" href="style.css">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
</head>
<body>
    <div id="setup-modal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(15, 23, 42, 0.95); z-index: 1000; display: flex; justify-content: center; align-items: center;">
        <div class="card" style="width: 400px; text-align: center; border: 2px solid #3b82f6;">
            <h2 style="color: white; font-size: 24px;">ğŸ¯ Configure Interview</h2>
            
            <div style="margin: 20px 0; text-align: left;">
                <label style="color: #94a3b8; display: block; margin-bottom: 8px;">Target Role</label>
                <input type="text" id="role-input" placeholder="e.g. Java Developer, HR Manager" value="Software Engineer" 
                       style="width: 100%; padding: 10px; border-radius: 8px; border: none; background: #1e293b; color: white;">
            </div>

            <div style="margin: 20px 0; text-align: left;">
                <label style="color: #94a3b8; display: block; margin-bottom: 8px;">Paste Resume Summary (Optional)</label>
                <textarea id="resume-input" rows="4" placeholder="I am a 3rd sem CS student good at DSA..." 
                          style="width: 100%; padding: 10px; border-radius: 8px; border: none; background: #1e293b; color: white; font-family: sans-serif;"></textarea>
            </div>

            <button onclick="saveConfig()" style="background: #2563eb; margin-top: 10px;">ğŸš€ Launch Interview</button>
        </div>
    </div>
    <h1 class="header-title">ğŸš€ InterviewFlow <span class="badge">AI Powered</span></h1>

    <div class="dashboard">
        <div class="video-container">
            <video class="input_video" autoplay playsinline></video>
            <canvas class="output_canvas" width="640" height="480"></canvas>
        </div>

        <div class="sidebar">
            <div class="card status-card">
                <h2>ğŸ“¡ Status Monitor</h2>
                <div class="metric">
                    <span>Eye Contact Score:</span>
                    <span id="eye-contact-score" class="score-value">100%</span>
                </div>
                <div class="card">
                    <h2>ğŸ§  Nervousness EKG</h2>
                    <canvas id="nervousChart" height="120"></canvas>
                </div>

                <div class="metric">
                    <span>Head Position:</span>
                    <span id="head-shake" class="status-value">Waiting...</span>
                </div>
            </div>

        <div class="card transcript-card">
                <h2>ğŸ¤ Live Transcript</h2>
                <div id="transcript-box" style="height: 100px; overflow-y: auto; color: #ccc; font-style: italic; font-size: 14px;">
                    (Waiting for you to speak...)
                </div>
            </div>

            <div class="card control-card">
                <h2>ğŸ® Controls</h2>
                <button onclick="startInterview()" class="btn-start">Start Interview</button>
                <button onclick="stopInterview()" class="btn-stop">Stop</button>
            </div>
            
            <div class="card logs-card">
                <h2>ğŸ“ Logs</h2>
                <div id="logs">System initialized...</div>
            </div>
        </div>
    </div>
    <script src="config.js"></script> 
    <script src="app.js"></script>
</body>
</html>